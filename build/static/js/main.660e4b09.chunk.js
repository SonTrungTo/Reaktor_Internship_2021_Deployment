(this["webpackJsonpreaktor-internship"]=this["webpackJsonpreaktor-internship"]||[]).push([[0],{67:function(t,e,r){},94:function(t,e,r){"use strict";r.r(e);var n=r(0),o=r.n(n),c=r(22),a=r.n(c),i=(r(67),r(7)),s=r(119),l=r(120),u=r(20),d=r(115),b=r(123),j=r(118),f=r(117),O=r(122),x={colors:{primary:"#0366d6",textPrimary:"#24292e",textSecondary:"#586069",textBar:"#ffffff",appBackgroundColor:"#24292e",itemBackgroundColor:"#e1e4e8",error:"#d73a4a",inactiveButton:"#474747"},fontSizes:{body:14,subheading:18},fonts:{main:"Roboto",secondary:"System"},fontWeights:{normal:500,bold:900}},g=r(58),h=r(38),p=r(2),m=Object(d.a)((function(){return{text:{color:x.colors.textPrimary,fontSize:x.fontSizes.body,fontFamily:x.fonts.main,fontWeight:x.fontWeights.normal},fontWeightBold:{fontWeight:x.fontWeights.bold},colorTextSecondary:{color:x.colors.textSecondary},colorPrimary:{color:x.colors.primary},colorTextBar:{color:x.colors.textBar},fontSizeSubheading:{fontSize:x.fontSizes.subheading}}})),v=function(t){var e=t.fontWeight,r=t.color,n=t.fontSize,o=t.style,c=Object(g.a)(t,["fontWeight","color","fontSize","style"]),a=m(),i=a.text,s="bold"===e?a.fontWeightBold:"",l="textSecondary"===r?a.colorTextSecondary:"",d="primary"===r?a.colorPrimary:"",b="textBar"===r?a.colorTextBar:"",j="subheading"===n?a.fontSizeSubheading:"",f=void 0!==o?o:"";return Object(p.jsx)(h.a,Object(u.a)({className:" ".concat(i," ").concat(s," ")+" ".concat(d," ").concat(l," ")+" ".concat(b," ").concat(j," ").concat(f," ")},c))},y=r(17),S=r(18),T=function(t){throw new Error("Unexpected value: ".concat(JSON.stringify(t)))},C=function(t){return"INSTOCK"===t||"OUTOFSTOCK"===t||"LESSTHAN10"===t},k=function(t){if(!t||!Array.isArray(t))throw new Error("Invalid response array of any");return t.map((function(t){return B(t)}))},B=function(t){return{id:A(t.id),DATAPAYLOAD:A(t.DATAPAYLOAD)}},A=function(t){if(!t||!z(t))throw new Error("Invalid string type: ".concat(t));return t},w=function(t){if(!t||!N(t))throw new Error("Invalid number type: ".concat(t));return t},N=function(t){return"number"===typeof t||t instanceof Number},z=function(t){return"string"===typeof t||t instanceof String},I=function(t,e){console.log(t);var r=t?t.response:void 0,n=r?r.find((function(t){return e.toLowerCase()===t.id.toLowerCase()})):void 0;console.log(n);var o=n?n.DATAPAYLOAD.split("\n  "):void 0;console.log(o);var c=o?o[2].slice("<INSTOCKVALUE>".length,o[2].length-"</INSTOCKVALUE>\n</AVAILABILITY>".length):void 0;return console.log(c),function(t){if(!t||!C(t))throw new Error("Invalid stock value: undefined or ".concat(t||"else"));return t}(c)},L=function(t){var e=t.availability;switch(e){case"INSTOCK":return Object(p.jsx)(y.a,{icon:S.c,color:"green",size:"lg"});case"OUTOFSTOCK":return Object(p.jsx)(y.a,{icon:S.c,color:"red",size:"lg"});case"LESSTHAN10":return Object(p.jsx)(y.a,{icon:S.c,color:"yellow",size:"lg"});default:return T(e)}},E=function(t){var e=t.availability;switch(e){case"INSTOCK":return Object(p.jsx)(y.a,{icon:S.b,color:"green",size:"lg"});case"OUTOFSTOCK":return Object(p.jsx)(y.a,{icon:S.b,color:"red",size:"lg"});case"LESSTHAN10":return Object(p.jsx)(y.a,{icon:S.b,color:"yellow",size:"lg"});default:return T(e)}},W=function(t){var e=t.availability;switch(e){case"INSTOCK":return Object(p.jsx)(y.a,{icon:S.d,color:"green",size:"lg"});case"OUTOFSTOCK":return Object(p.jsx)(y.a,{icon:S.d,color:"red",size:"lg"});case"LESSTHAN10":return Object(p.jsx)(y.a,{icon:S.d,color:"yellow",size:"lg"});default:return T(e)}},D=function(t){var e=t.color,r=t.style;return Object(p.jsx)(y.a,{icon:S.a,color:e,size:"sm",className:r})},F=r(37),K=r(24),P=r.n(K),U=r(34),R=r(35),J=r.n(R),H={getAll:function(){var t=Object(U.a)(P.a.mark((function t(e){var r,n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={headers:{"Cache-Control":"public,max-age=300,immutable"}},t.next=3,J.a.get("".concat("/v2/availability","/").concat(e),r);case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Y=function(t,e){var r=Object(n.useState)(void 0),o=Object(F.a)(r,2),c=o[0],a=o[1];return Object(n.useEffect)((function(){var r;if(!sessionStorage.getItem(t))return H.getAll(t).then((function(r){var n=I(r,e);a(n),sessionStorage.setItem(t,JSON.stringify(r))})).catch((function(t){return console.log(t)})),function(){};var n=JSON.parse(String(sessionStorage.getItem(t))),o={code:w((r=n).code),response:k(r.response)},c=I(o,e);a(c)}),[]),{availability:c}},V=function(t){var e=t.type,r=t.manufacturer,n=t.id,o=Y(r,n).availability;if(!o)return Object(p.jsx)(v,{fontWeight:"bold",children:"Error"});switch(e){case"facemasks":return Object(p.jsx)(L,{availability:o});case"beanies":return Object(p.jsx)(E,{availability:o});case"gloves":return Object(p.jsx)(W,{availability:o});default:return T(e)}},G=Object(d.a)((function(){return{card:{marginBottom:10,marginLeft:15,marginRight:15,backgroundColor:x.colors.itemBackgroundColor},priceText:{backgroundColor:x.colors.primary,borderRadius:5,paddingLeft:15,paddingRight:15},avatar:{backgroundColor:x.colors.textBar,borderStyle:"solid",borderWidth:1},labelText:{marginRight:5},colorDistance:{marginLeft:5}}})),M=function(t){var e=t.id,r=t.name,n=t.color,c=t.price,a=t.manufacturer,i=t.type,s=G();return Object(p.jsxs)(b.a,{className:s.card,elevation:4,id:"testCard",children:[Object(p.jsx)(f.a,{avatar:Object(p.jsx)(O.a,{"aria-label":"Type Icon",className:s.avatar,children:Object(p.jsx)(V,{type:i,manufacturer:a,id:e})}),action:Object(p.jsx)(v,{fontWeight:"bold",color:"textBar",style:s.priceText,children:Object(p.jsxs)(o.a.Fragment,{children:[Object(p.jsx)("span",{children:"\u20ac "}),c]})}),title:Object(p.jsx)(v,{fontSize:"subheading",fontWeight:"bold",children:r}),subheader:Object(p.jsx)(v,{color:"textSecondary",children:a})}),Object(p.jsx)(j.a,{children:Object(p.jsxs)(v,{style:s.labelText,children:["Color(s):",Object(p.jsx)("span",{children:n.map((function(t){return Object(p.jsx)(D,{color:t,style:s.colorDistance},t)}))})]})})]})},q={getAll:function(){var t=Object(U.a)(P.a.mark((function t(e){var r,n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={headers:{"x-force-error-mode":"all","Cache-Control":"public, max-age=300, immutable"}},t.next=3,J.a.get("".concat("/v2/products","/").concat(e),r);case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Q=function(t){var e=Object(n.useState)(void 0),r=Object(F.a)(e,2),o=r[0],c=r[1];return Object(n.useEffect)((function(){q.getAll(t).then((function(t){c(t)})).catch((function(t){console.log(t)}))}),[]),{products:o}},X=function(){var t=Q("facemasks").products,e=t||[];return Object(p.jsx)("div",{children:e.map((function(t){return Object(p.jsx)(M,Object(u.a)({},t),t.id)}))})},Z=function(){var t=Q("beanies").products,e=t||[];return Object(p.jsx)("div",{children:e.map((function(t){return Object(p.jsx)(M,Object(u.a)({},t),t.id)}))})},$=function(){var t=Q("gloves").products,e=t||[];return Object(p.jsx)("div",{children:e.map((function(t){return Object(p.jsx)(M,Object(u.a)({},t),t.id)}))})},_=Object(d.a)((function(){return{appBar:{backgroundColor:x.colors.appBackgroundColor,padding:15,marginBottom:15}}})),tt=function(){var t=_();return Object(p.jsx)("div",{className:t.appBar,children:Object(p.jsx)(v,{color:"textBar",fontSize:"subheading",children:"Reaktor Internship Problem"})})},et=r(121),rt=r(21),nt=Object(d.a)((function(){return{linkButton:{backgroundColor:x.colors.inactiveButton,"&:hover":{backgroundColor:x.colors.primary},width:"100%",marginBottom:15,marginLeft:10},link:{textDecoration:"none"}}})),ot=function(t){var e=t.to,r=t.style,n=t.children,o=nt(),c=o.linkButton,a=r||"";return Object(p.jsx)(rt.b,{to:e,className:o.link,children:Object(p.jsx)(et.a,{className:"".concat(c," ").concat(a),variant:"contained",children:n})})},ct=Object(d.a)((function(){return{container:{flexDirection:"column",top:60,position:"sticky"},isActive:{backgroundColor:x.colors.primary}}})),at=Object(i.g)((function(t){var e=t.history,r=ct(),n=function(t){return e.location.pathname===t?r.isActive:""};return Object(p.jsxs)("div",{className:r.container,children:[Object(p.jsx)(ot,{to:"/products/facemasks",style:n("/products/facemasks"),children:Object(p.jsx)(v,{color:"textBar",children:"Facemasks"})}),Object(p.jsx)(ot,{to:"/products/beanies",style:n("/products/beanies"),children:Object(p.jsx)(v,{color:"textBar",children:"Beanies"})}),Object(p.jsx)(ot,{to:"/products/gloves",style:n("/products/gloves"),children:Object(p.jsx)(v,{color:"textBar",children:"Gloves"})})]})})),it=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(tt,{}),Object(p.jsx)(s.a,{fixed:!0,children:Object(p.jsxs)(l.a,{container:!0,spacing:3,children:[Object(p.jsx)(l.a,{item:!0,xs:4,children:Object(p.jsx)(at,{})}),Object(p.jsx)(l.a,{item:!0,xs:8,children:Object(p.jsxs)(i.d,{children:[Object(p.jsx)(i.b,{path:"/products/facemasks",exact:!0,component:X}),Object(p.jsx)(i.b,{path:"/products/beanies",exact:!0,component:Z}),Object(p.jsx)(i.b,{path:"/products/gloves",exact:!0,component:$}),Object(p.jsx)(i.a,{to:"/products/facemasks"})]})})]})})]})};var st=function(){return Object(p.jsx)(rt.a,{children:Object(p.jsx)(it,{})})},lt=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,125)).then((function(e){var r=e.getCLS,n=e.getFID,o=e.getFCP,c=e.getLCP,a=e.getTTFB;r(t),n(t),o(t),c(t),a(t)})).catch((function(t){return console.log(t)}))};r(93);a.a.render(Object(p.jsx)(o.a.StrictMode,{children:Object(p.jsx)(st,{})}),document.getElementById("root")),lt()}},[[94,1,2]]]);
//# sourceMappingURL=main.660e4b09.chunk.js.map