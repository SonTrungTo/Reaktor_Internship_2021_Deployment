(this["webpackJsonpreaktor-internship"]=this["webpackJsonpreaktor-internship"]||[]).push([[0],{67:function(e,t,r){},94:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),c=r(22),a=r.n(c),i=(r(67),r(7)),s=r(119),l=r(120),u=r(20),d=r(115),b=r(123),j=r(118),f=r(117),g=r(122),O={colors:{primary:"#0366d6",textPrimary:"#24292e",textSecondary:"#586069",textBar:"#ffffff",appBackgroundColor:"#24292e",itemBackgroundColor:"#e1e4e8",error:"#d73a4a",inactiveButton:"#474747"},fontSizes:{body:14,subheading:18},fonts:{main:"Roboto",secondary:"System"},fontWeights:{normal:500,bold:900}},x=r(58),h=r(38),p=r(2),m=Object(d.a)((function(){return{text:{color:O.colors.textPrimary,fontSize:O.fontSizes.body,fontFamily:O.fonts.main,fontWeight:O.fontWeights.normal},fontWeightBold:{fontWeight:O.fontWeights.bold},colorTextSecondary:{color:O.colors.textSecondary},colorPrimary:{color:O.colors.primary},colorTextBar:{color:O.colors.textBar},fontSizeSubheading:{fontSize:O.fontSizes.subheading}}})),v=function(e){var t=e.fontWeight,r=e.color,n=e.fontSize,o=e.style,c=Object(x.a)(e,["fontWeight","color","fontSize","style"]),a=m(),i=a.text,s="bold"===t?a.fontWeightBold:"",l="textSecondary"===r?a.colorTextSecondary:"",d="primary"===r?a.colorPrimary:"",b="textBar"===r?a.colorTextBar:"",j="subheading"===n?a.fontSizeSubheading:"",f=void 0!==o?o:"";return Object(p.jsx)(h.a,Object(u.a)({className:" ".concat(i," ").concat(s," ")+" ".concat(d," ").concat(l," ")+" ".concat(b," ").concat(j," ").concat(f," ")},c))},y=r(17),S=r(18),T=function(e){throw new Error("Unexpected value: ".concat(JSON.stringify(e)))},C=function(e){return"INSTOCK"===e||"OUTOFSTOCK"===e||"LESSTHAN10"===e},k=function(e){return{code:I(e.code),response:B(e.response)}},B=function(e){if(!e||!Array.isArray(e))throw new Error("Invalid response array of any");return e.map((function(e){return A(e)}))},A=function(e){return{id:w(e.id),DATAPAYLOAD:w(e.DATAPAYLOAD)}},w=function(e){if(!e||!z(e))throw new Error("Invalid string type: ".concat(e));return e},I=function(e){if(!e||!N(e))throw new Error("Invalid number type: ".concat(e));return e},N=function(e){return"number"===typeof e||e instanceof Number},z=function(e){return"string"===typeof e||e instanceof String},L=function(e,t){console.log(e);var r=e?e.response:void 0,n=r?r.find((function(e){return t.toLowerCase()===e.id.toLowerCase()})):void 0;console.log(n);var o=n?n.DATAPAYLOAD.split("\n  "):void 0;console.log(o);var c=o?o[2].slice("<INSTOCKVALUE>".length,o[2].length-"</INSTOCKVALUE>\n</AVAILABILITY>".length):void 0;return console.log(c),function(e){if(!e||!C(e))throw new Error("Invalid stock value: undefined or ".concat(e||"else"));return e}(c)},E=function(e){var t=e.availability;switch(t){case"INSTOCK":return Object(p.jsx)(y.a,{icon:S.c,color:"green",size:"lg"});case"OUTOFSTOCK":return Object(p.jsx)(y.a,{icon:S.c,color:"red",size:"lg"});case"LESSTHAN10":return Object(p.jsx)(y.a,{icon:S.c,color:"yellow",size:"lg"});default:return T(t)}},W=function(e){var t=e.availability;switch(t){case"INSTOCK":return Object(p.jsx)(y.a,{icon:S.b,color:"green",size:"lg"});case"OUTOFSTOCK":return Object(p.jsx)(y.a,{icon:S.b,color:"red",size:"lg"});case"LESSTHAN10":return Object(p.jsx)(y.a,{icon:S.b,color:"yellow",size:"lg"});default:return T(t)}},D=function(e){var t=e.availability;switch(t){case"INSTOCK":return Object(p.jsx)(y.a,{icon:S.d,color:"green",size:"lg"});case"OUTOFSTOCK":return Object(p.jsx)(y.a,{icon:S.d,color:"red",size:"lg"});case"LESSTHAN10":return Object(p.jsx)(y.a,{icon:S.d,color:"yellow",size:"lg"});default:return T(t)}},F=function(e){var t=e.color,r=e.style;return Object(p.jsx)(y.a,{icon:S.a,color:t,size:"sm",className:r})},K=r(37),P=r(24),J=r.n(P),U=r(34),R=r(35),H=r.n(R),Y={getAll:function(){var e=Object(U.a)(J.a.mark((function e(t){var r,n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"Cache-Control":"public,max-age=300,immutable"}},e.next=3,H.a.get("".concat("/v2/availability","/").concat(t),r);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},V=function(e,t){var r=Object(n.useState)(void 0),o=Object(K.a)(r,2),c=o[0],a=o[1];return Object(n.useEffect)((function(){if(sessionStorage.getItem(e)){var r=JSON.parse(String(sessionStorage.getItem(e))),n=k(r),o=L(n,t);a(o)}else if(localStorage.getItem(e)){var c=JSON.parse(String(localStorage.getItem(e))),i=k(c),s=L(i,t);a(s)}else Y.getAll(e).then((function(r){var n=L(r,t);a(n),sessionStorage.length<5?sessionStorage.setItem(e,JSON.stringify(r)):sessionStorage.getItem(e)||(localStorage.clear(),localStorage.setItem(e,JSON.stringify(r)))})).catch((function(e){return console.log(e)}))}),[]),{availability:c}},G=function(e){var t=e.type,r=e.manufacturer,n=e.id,o=V(r,n).availability;if(!o)return Object(p.jsx)(v,{fontWeight:"bold",children:"Error"});switch(t){case"facemasks":return Object(p.jsx)(E,{availability:o});case"beanies":return Object(p.jsx)(W,{availability:o});case"gloves":return Object(p.jsx)(D,{availability:o});default:return T(t)}},M=Object(d.a)((function(){return{card:{marginBottom:10,marginLeft:15,marginRight:15,backgroundColor:O.colors.itemBackgroundColor},priceText:{backgroundColor:O.colors.primary,borderRadius:5,paddingLeft:15,paddingRight:15},avatar:{backgroundColor:O.colors.textBar,borderStyle:"solid",borderWidth:1},labelText:{marginRight:5},colorDistance:{marginLeft:5}}})),q=function(e){var t=e.id,r=e.name,n=e.color,c=e.price,a=e.manufacturer,i=e.type,s=M();return Object(p.jsxs)(b.a,{className:s.card,elevation:4,id:"testCard",children:[Object(p.jsx)(f.a,{avatar:Object(p.jsx)(g.a,{"aria-label":"Type Icon",className:s.avatar,children:Object(p.jsx)(G,{type:i,manufacturer:a,id:t})}),action:Object(p.jsx)(v,{fontWeight:"bold",color:"textBar",style:s.priceText,children:Object(p.jsxs)(o.a.Fragment,{children:[Object(p.jsx)("span",{children:"\u20ac "}),c]})}),title:Object(p.jsx)(v,{fontSize:"subheading",fontWeight:"bold",children:r}),subheader:Object(p.jsx)(v,{color:"textSecondary",children:a})}),Object(p.jsx)(j.a,{children:Object(p.jsxs)(v,{style:s.labelText,children:["Color(s):",Object(p.jsx)("span",{children:n.map((function(e){return Object(p.jsx)(F,{color:e,style:s.colorDistance},e)}))})]})})]})},Q={getAll:function(){var e=Object(U.a)(J.a.mark((function e(t){var r,n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"Cache-Control":"public, max-age=300, immutable"}},e.next=3,H.a.get("".concat("/v2/products","/").concat(t),r);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},X=function(e){var t=Object(n.useState)(void 0),r=Object(K.a)(t,2),o=r[0],c=r[1];return Object(n.useEffect)((function(){Q.getAll(e).then((function(e){c(e)})).catch((function(e){console.log(e)}))}),[]),{products:o}},Z=function(){var e=X("facemasks").products,t=e||[];return Object(p.jsx)("div",{children:t.map((function(e){return Object(p.jsx)(q,Object(u.a)({},e),e.id)}))})},$=function(){var e=X("beanies").products,t=e||[];return Object(p.jsx)("div",{children:t.map((function(e){return Object(p.jsx)(q,Object(u.a)({},e),e.id)}))})},_=function(){var e=X("gloves").products,t=e||[];return Object(p.jsx)("div",{children:t.map((function(e){return Object(p.jsx)(q,Object(u.a)({},e),e.id)}))})},ee=Object(d.a)((function(){return{appBar:{backgroundColor:O.colors.appBackgroundColor,padding:15,marginBottom:15}}})),te=function(){var e=ee();return Object(p.jsx)("div",{className:e.appBar,children:Object(p.jsx)(v,{color:"textBar",fontSize:"subheading",children:"Reaktor Internship Problem"})})},re=r(121),ne=r(21),oe=Object(d.a)((function(){return{linkButton:{backgroundColor:O.colors.inactiveButton,"&:hover":{backgroundColor:O.colors.primary},width:"100%",marginBottom:15,marginLeft:10},link:{textDecoration:"none"}}})),ce=function(e){var t=e.to,r=e.style,n=e.children,o=oe(),c=o.linkButton,a=r||"";return Object(p.jsx)(ne.b,{to:t,className:o.link,children:Object(p.jsx)(re.a,{className:"".concat(c," ").concat(a),variant:"contained",children:n})})},ae=Object(d.a)((function(){return{container:{flexDirection:"column",top:60,position:"sticky"},isActive:{backgroundColor:O.colors.primary}}})),ie=Object(i.g)((function(e){var t=e.history,r=ae(),n=function(e){return t.location.pathname===e?r.isActive:""};return Object(p.jsxs)("div",{className:r.container,children:[Object(p.jsx)(ce,{to:"/products/facemasks",style:n("/products/facemasks"),children:Object(p.jsx)(v,{color:"textBar",children:"Facemasks"})}),Object(p.jsx)(ce,{to:"/products/beanies",style:n("/products/beanies"),children:Object(p.jsx)(v,{color:"textBar",children:"Beanies"})}),Object(p.jsx)(ce,{to:"/products/gloves",style:n("/products/gloves"),children:Object(p.jsx)(v,{color:"textBar",children:"Gloves"})})]})})),se=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(te,{}),Object(p.jsx)(s.a,{fixed:!0,children:Object(p.jsxs)(l.a,{container:!0,spacing:3,children:[Object(p.jsx)(l.a,{item:!0,xs:4,children:Object(p.jsx)(ie,{})}),Object(p.jsx)(l.a,{item:!0,xs:8,children:Object(p.jsxs)(i.d,{children:[Object(p.jsx)(i.b,{path:"/products/facemasks",exact:!0,component:Z}),Object(p.jsx)(i.b,{path:"/products/beanies",exact:!0,component:$}),Object(p.jsx)(i.b,{path:"/products/gloves",exact:!0,component:_}),Object(p.jsx)(i.a,{to:"/products/facemasks"})]})})]})})]})};var le=function(){return Object(p.jsx)(ne.a,{children:Object(p.jsx)(se,{})})},ue=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,125)).then((function(t){var r=t.getCLS,n=t.getFID,o=t.getFCP,c=t.getLCP,a=t.getTTFB;r(e),n(e),o(e),c(e),a(e)})).catch((function(e){return console.log(e)}))};r(93);a.a.render(Object(p.jsx)(o.a.StrictMode,{children:Object(p.jsx)(le,{})}),document.getElementById("root")),ue()}},[[94,1,2]]]);
//# sourceMappingURL=main.bb0cd586.chunk.js.map